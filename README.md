# auto-clear-logs

# Скрипт автоматического удаления логов в Debian

Этот скрипт помогает автоматически очищать логи в указанной вами папке и настраивает задачу в cron для запуска каждые два дня.

---

## Описание

Скрипт запрашивает у пользователя путь к папке, в которой хранятся логи (например, `/var/log/myapp`). После этого он создаёт небольшой скрипт, который будет очищать все файлы с расширением `.log` в выбранной папке, и добавляет его в планировщик задач cron.

Задача в cron запускается каждые два дня в 3 часа ночи.

---

## Как использовать
Запустить:
```console
bash <(wget -qO- https://raw.githubusercontent.com/milkyspace/auto-clear-logs/refs/heads/main/setup_auto_clear_logs.sh)
```

Либо

1. Скачайте или скопируйте скрипт `setup_auto_clear_logs.sh`.
2. Сделайте его исполняемым:
chmod +x setup_auto_clear_logs.sh.

3. Запустите от имени суперпользователя:
sudo ./setup_auto_clear_logs.sh.

4. Следуйте инструкциям в терминале — введите путь к папке с логами.

---

## Что делает скрипт

- Спрашивает у пользователя путь к папке для очистки логов.
- Проверяет существование указанной папки.
- Создаёт скрипт для очистки логов в выбранной папке.
- Назначает ему права на выполнение.
- Добавляет задачу в cron для автоматического запуска каждые два дня.

---

## Важные замечания

- Скрипт очищает только файлы с расширением `.log`. Если нужно очищать другие файлы, измените команду внутри скрипта.
- Убедитесь, что у вас есть права на редактирование crontab и права на выполнение скриптов в выбранной папке.

---

## Возможные улучшения

- Добавление фильтров по типу файлов.
- Возможность выбора времени запуска.
- Архивация логов перед очисткой.
